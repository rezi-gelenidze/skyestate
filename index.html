<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>SkyEstate - Real Estate Imaging</title>

    <!-- Link to styles -->
    <link rel="stylesheet" href="styles.css">

    <!-- Leaflet Assets -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
</head>
<body>
    <!-- Header Section with Logo and Slogan -->
    <header>
        <div class="header-text">
            <h1>SkyEstate</h1>
            <p>Capturing Properties from Every Angle</p>
        </div>
        <div class="logo">
            <img src="img/logo.png" alt="SkyEstate Logo" width="100">
        </div>
    </header>

    <!-- Services Section with Cards -->
    <section class="services">
        <h2>Our Services</h2>
        <div class="service-cards">
            <div class="card">
                <h3>Drone Footage</h3>
                <p>Get stunning aerial shots of your property to stand out.</p>
            </div>
            <div class="card">
                <h3>3D Imaging</h3>
                <p>Bring your property to life with immersive 3D models.</p>
            </div>
            <div class="card">
                <h3>Traditional Images</h3>
                <p>High-quality traditional images to showcase your property.</p>
            </div>
        </div>
    </section>

    <!-- Booking Section with Map -->
    <section class="booking">
        <h2>Book Your Property Imaging Service</h2>
        <form id="booking-form">
            <!-- Location & Address (Leaflet map) -->
            <div class="form-group">
                <div id="map" style="height: 400px;"></div>
                <input type="text" id="location" placeholder="Enter address or location" required>
            </div>

            <!-- Real Estate Type -->
            <div class="form-group">
                <label for="real-estate-type">Real Estate Type:</label>
                <select id="real-estate-type">
                    <option value="residential">Residential</option>
                    <option value="commercial">Commercial</option>
                    <option value="private">Private Property</option>
                </select>
            </div>

            <!-- Service Selection -->
            <div class="form-group">
                <label>Select Services:</label>
                <div class="checkbox-group">
                    <label>
                        <input type="checkbox" id="drone-footage"> Drone Footage
                    </label>
                    <label>
                        <input type="checkbox" id="3d-images"> 3D Images
                    </label>
                    <label>
                        <input type="checkbox" id="traditional-images"> Traditional Images
                    </label>
                </div>
            </div>

            <!-- Mobile Phone -->
            <div class="form-group">
                <label for="phone">Phone Number:</label>
                <input type="tel" id="phone" placeholder="Enter your phone number" required>
            </div>

            <!-- Price Calculation -->
            <div class="form-group">
                <p id="price">Total Price: $0</p>
            </div>

            <!-- Submit Button -->
            <button type="submit">Confirm Order</button>
        </form>
    </section>

    <!-- Footer Section with Contact Info -->
    <footer>
        <div class="contact">
            <h3>Contact Us</h3>
            <p>Email: info@skyestate.com</p>
            <p>Phone: +995 123 456 789</p>
        </div>
        <p>&copy; 2024 SkyEstate. All rights reserved.</p>
    </footer>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

    <script>
        // Initialize the Leaflet map
        const map = L.map('map').setView([42.3154, 43.3569], 7); // Centered on Georgia

        // Add OpenStreetMap tiles
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Marker for the selected location (non-draggable)
        let marker = L.marker([41.7151, 44.8271]).addTo(map);

        // Event listener to move marker to the clicked location on the map
        map.on('click', function(e) {
            const latLng = e.latlng;
            marker.setLatLng(latLng);
            // Update the location input with the clicked coordinates
            document.getElementById('location').value = `Lat: ${latLng.lat.toFixed(5)}, Lng: ${latLng.lng.toFixed(5)}`;
        });

        // Price list object with property type-specific prices
        const priceList = {
            residential: {
                droneFootage: 100,    // Residential drone footage price
                threeDImages: 200,    // Residential 3D images price
                traditionalImages: 50 // Residential traditional images price
            },
            commercial: {
                droneFootage: 150,    // Commercial drone footage price
                threeDImages: 250,    // Commercial 3D images price
                traditionalImages: 70 // Commercial traditional images price
            },
            private: {
                droneFootage: 120,    // Private property drone footage price
                threeDImages: 220,    // Private property 3D images price
                traditionalImages: 60 // Private property traditional images price
            }
        };

        // Function to update the total price based on selected services and property type
        function updatePrice() {
            let price = 0;
            const propertyType = document.getElementById('real-estate-type').value;

            // Add prices for selected services based on the selected property type
            if (document.getElementById('drone-footage').checked) {
                price += priceList[propertyType].droneFootage;
            }
            if (document.getElementById('3d-images').checked) {
                price += priceList[propertyType].threeDImages;
            }
            if (document.getElementById('traditional-images').checked) {
                price += priceList[propertyType].traditionalImages;
            }

            // Display the updated price
            document.getElementById('price').textContent = 'Total Price: $' + price;
        }

        // Add event listeners to each checkbox to update price dynamically
        document.getElementById('drone-footage').addEventListener('change', updatePrice);
        document.getElementById('3d-images').addEventListener('change', updatePrice);
        document.getElementById('traditional-images').addEventListener('change', updatePrice);

        // Add event listener to update price when the property type changes
        document.getElementById('real-estate-type').addEventListener('change', updatePrice);

        // Initialize price when the page loads
        updatePrice();

        // Form submit event (you can keep it for processing the final order)
        document.getElementById('booking-form').addEventListener('submit', function(event) {
            event.preventDefault();
            // Here you can handle form submission or further processing
            alert('Order confirmed, we will contact you soon! \nThe total price is: ' + document.getElementById('price').innerHTML);
        });

    </script>
</body>
</html>
